// var isDraggable = $(document).width() > 700 ? true : false;

function initialize() {
  var mapDiv = document.getElementById("contacts-map");

  map = new google.maps.Map(mapDiv, {
    zoom: 16,
    disableDefaultUI: false,
    scrollwheel: false,
    // draggable: isDraggable,

    center: {lat: 50.501623, lng: 30.452266},
    styles: [{"featureType": "administrative","elementType": "labels.text.fill","stylers": [{"color": "#444444"}]}, {"featureType": "landscape","elementType": "all","stylers": [{"color": "#f2f2f2"}]}, {"featureType": "poi","elementType": "all","stylers": [{"visibility": "off"}]},{"featureType": "road","elementType": "all","stylers": [{"saturation": -100},{"lightness": 45}]},{"featureType": "road.highway","elementType": "all","stylers": [{"visibility": "simplified"}]},{"featureType": "road.arterial","elementType": "labels.icon","stylers": [{"visibility": "off"}]},{"featureType": "transit","elementType": "all","stylers": [{"visibility": "off"}]},{"featureType": "water","elementType": "all","stylers": [{"color": "#c0e4f3"},{"visibility": "on"}]}]
  });

  var marker = new google.maps.Marker({
    // Определяем позицию маркера
    position: {lat: 50.501623, lng: 30.452266},
    // Указываем на какой карте он должен появится. (На странице ведь может быть больше одной карты)
    map: map,
    // Укажем свою иконку для маркера
    icon: "assets/img/marker.svg"
  });

  // Создаем наполнение для информационного окна
  var contentString =
    //===========================
    //===== BEGIN MAP-POPUP =====
    //===========================
    '<div class="map-popup" id="map-popup">' +
    '<a class="contacts-popup__link" href="https://goo.gl/maps/GkSJPDPJHtM6GryX9" target="_blank" rel="nofollow noopener noreferrer">\n' +
    '<div class="contacts-popup__svg">\n' +
    '<svg width="10" height="13" viewBox="0 0 10 13">\n' +
    '<path fill="#2f2d2d" d="M4.297 5.704A.964.964 0 0 1 4 4.996c0-.275.098-.51.293-.704A.965.965 0 0 1 5 4c.276 0 .512.097.707.292.195.194.293.43.293.704a.977.977 0 0 1-.29.708.946.946 0 0 1-.702.296.972.972 0 0 1-.711-.296zM3.589 3.59A1.925 1.925 0 0 0 3 5c0 .556.196 1.028.589 1.417C3.98 6.806 4.45 7 5 7c.556 0 1.028-.194 1.417-.583C6.806 6.027 7 5.556 7 5c0-.549-.194-1.02-.583-1.411A1.92 1.92 0 0 0 5 3c-.549 0-1.02.196-1.411.589zm1.592 8.386A.204.204 0 0 0 5.15 12l-.05-.05-.212-.233c-.409-.467-.842-.969-1.3-1.505A17.316 17.316 0 0 1 2.325 8.54c-.383-.577-.7-1.165-.95-1.763A4.565 4.565 0 0 1 1 5.007c0-.541.108-1.055.325-1.543.217-.487.508-.913.875-1.278a4.142 4.142 0 0 1 1.288-.866A3.888 3.888 0 0 1 5.05 1c.683 0 1.273.115 1.769.344.496.23.906.533 1.231.91.325.377.565.805.719 1.284.154.48.231.969.231 1.469 0 .442-.08.92-.237 1.432a8.908 8.908 0 0 1-.713 1.634 16.74 16.74 0 0 1-1.188 1.838A28.345 28.345 0 0 1 5.2 11.95c0 .008-.006.016-.019.024zM3.105.394A5.148 5.148 0 0 0 .403 3.047C.136 3.647 0 4.283 0 4.95c0 .703.15 1.405.45 2.108.299.702.672 1.385 1.119 2.05.447.664.933 1.297 1.458 1.898.526.6 1.014 1.155 1.465 1.663 0 .008.063.066.189.171.126.106.28.159.462.159h.04a.701.701 0 0 0 .455-.159c.13-.105.195-.163.195-.171.426-.474.881-1.016 1.368-1.625.486-.61.937-1.255 1.354-1.936.416-.681.761-1.375 1.035-2.082.273-.707.41-1.399.41-2.076 0-.668-.11-1.303-.332-1.904a4.66 4.66 0 0 0-.964-1.58A4.497 4.497 0 0 0 7.148.393C6.532.13 5.833 0 5.052 0c-.686 0-1.335.131-1.947.394z"></path>\n' +
    '</svg>\n' +
    '</div>' +
    '<span>94 Quentin Rd, Brooklyn, NY 11223</span>\n' +
    '</a>' +
    '<a class="contacts-popup__link" href="mailto:info@flowerlanddecor.com">\n' +
    '<div class="contacts-popup__svg">\n' +
    '<svg width="14" height="9" viewBox="0 0 24 16">\n' +
    '<path fill="#2f2d2d" d="M2.188 14.5c-.17 0-.368-.114-.596-.342-.228-.228-.342-.426-.342-.595V2.617l10.34 6.66c.065.052.13.091.195.118.065.026.137.039.215.039.078 0 .15-.013.215-.04a.777.777 0 0 0 .195-.117l10.34-6.66v10.946c0 .169-.01.367-.03.595-.019.228-.113.342-.282.342zm20.25-13.25L12 7.988 1.582 1.27c.104-.013.208-.02.313-.02zm1.552-.03a.489.489 0 0 0-.049-.165c-.078-.352-.244-.616-.498-.791C23.19.088 22.854 0 22.438 0H2.188a3.07 3.07 0 0 0-1.104.205C.726.342.449.54.254.801A.147.147 0 0 0 .195.85a.32.32 0 0 1-.039.048.706.706 0 0 0-.136.245.455.455 0 0 0 0 .263.173.173 0 0 0-.02.078v12.079c0 .52.234 1.015.703 1.484.469.469.964.703 1.485.703h20.25c.52 0 .911-.234 1.171-.703s.391-.964.391-1.485V1.485a.173.173 0 0 0-.02-.078.604.604 0 0 0 .01-.185z"></path>\n' +
    '</svg>\n' +
    '</div>\n' +
    '<span>info@flowerlanddecor.com</span>\n' +
    '</a>\n' +
    '<a class="contacts-popup__link" href="tel:+13472726720">\n' +
    '<div class="contacts-popup__svg">\n' +
    '<svg width="13" height="13" viewBox="0 0 24 24">\n' +
    '<path fill="#2f2d2d" d="M4.788 2.26a.637.637 0 0 1 .176-.024h.047c.453.656.925 1.36 1.418 2.11.492.75 1.011 1.554 1.558 2.414a.742.742 0 0 1-.035.21 1.636 1.636 0 0 1-.105.258l-.399.715c-.187.336-.43.778-.726 1.325l-.47.82.563.726c.344.5.782 1.051 1.313 1.653a53.68 53.68 0 0 0 1.851 1.98 50.471 50.471 0 0 0 1.98 1.887c.602.539 1.153.98 1.653 1.324l.774.516.773-.469 1.336-.727c.344-.187.578-.32.703-.398.094-.047.18-.082.258-.105a.742.742 0 0 1 .21-.036c.61.391 1.294.836 2.052 1.336.757.5 1.59 1.07 2.496 1.711a.253.253 0 0 1 0 .153.555.555 0 0 1-.094.175c-.234.313-.477.621-.727.926-.25.305-.515.598-.796.88-.282.28-.524.507-.727.679-.203.172-.36.281-.469.328-.703-.047-1.457-.219-2.261-.516-.805-.297-1.657-.726-2.555-1.289a26.043 26.043 0 0 1-2.836-2.086 47.612 47.612 0 0 1-3.129-2.883 47.612 47.612 0 0 1-2.883-3.128 26.04 26.04 0 0 1-2.086-2.836C3.09 8.99 2.66 8.143 2.362 7.346c-.297-.797-.46-1.547-.492-2.25.047-.141.152-.313.316-.516a9.62 9.62 0 0 1 .668-.727c.282-.28.57-.55.868-.808.296-.258.601-.496.914-.715a.54.54 0 0 1 .152-.07zM5.632.959A1.643 1.643 0 0 0 4.964.83c-.219 0-.422.027-.61.082a1.745 1.745 0 0 0-.539.27c-.125.093-.273.203-.445.328s-.352.257-.54.398c-.202.156-.429.356-.679.598-.25.242-.531.535-.844.879a5.464 5.464 0 0 0-.703.925c-.156.274-.234.52-.234.739.031.797.203 1.644.516 2.543.312.898.77 1.84 1.37 2.824a27.88 27.88 0 0 0 2.227 3.094 46.29 46.29 0 0 0 3.082 3.375 51.958 51.958 0 0 0 3.375 3.07c1.078.89 2.11 1.633 3.094 2.227.984.593 1.922 1.05 2.813 1.37.89.321 1.742.497 2.554.528h.047c.203 0 .442-.078.715-.234.273-.157.574-.391.902-.704.344-.312.64-.597.89-.855s.454-.488.61-.691c.172-.204.32-.383.446-.54a3.26 3.26 0 0 0 .28-.398 2.41 2.41 0 0 0 .329-.691 1.97 1.97 0 0 0 .07-.668 1.707 1.707 0 0 0-.187-.563 1.22 1.22 0 0 0-.375-.422c-.89-.625-1.727-1.199-2.508-1.722a53.097 53.097 0 0 0-2.227-1.418 1.421 1.421 0 0 0-.726-.188c-.172 0-.356.028-.55.082a2.448 2.448 0 0 0-.575.246c-.156.078-.41.215-.762.41-.351.196-.793.45-1.324.762a20.03 20.03 0 0 1-1.535-1.254c-.57-.507-1.2-1.105-1.887-1.793a40.21 40.21 0 0 1-1.77-1.875 18.564 18.564 0 0 1-1.253-1.57c.296-.547.539-.992.726-1.336.188-.344.32-.594.399-.75.203-.36.316-.695.34-1.008a1.359 1.359 0 0 0-.2-.843c-.61-.954-1.176-1.82-1.699-2.602a79.11 79.11 0 0 0-1.441-2.086 1.263 1.263 0 0 0-.504-.41z"></path>\n' +
    '</svg>\n' +
    '</div>\n' +
    '<span>347 272 6720</span>\n' +
    '</a>\n' +
    '</div>';
  //===========================
  //====== END MAP-POPUP ======
  //===========================

  // Инициализируем информационное окно
  var infowindow = new google.maps.InfoWindow({
    content: contentString,
    maxWidth: 400
  });

  //Событие по клику на маркере (открываем попап)
  google.maps.event.addListener(marker, 'click', function () {
    infowindow.open(map, marker);
  });

  //Событие по клику на карте (закрываем попап)
  google.maps.event.addListener(map, 'click', function () {
    infowindow.close(marker);
  });
}

google.maps.event.addDomListener(window, "load", initialize);